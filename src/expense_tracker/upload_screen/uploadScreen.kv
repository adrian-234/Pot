<UploadScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 20
        padding: 20
        valign: 'top'
        canvas.before:
            Color:
                rgba: 0.13, 0.15, 0.21, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: "Új kiadás"
            font_size: '24sp'
            bold: True
            color: 1, 1, 1, 1
            size_hint_y: None
            height: self.texture_size[1]


        BoxLayout:
            orientation: 'vertical'
            spacing: 10
            size_hint: None, None
            height: self.minimum_height
            width: min(self.parent.parent.width, 600)
            pos_hint: {'center_x': 0.5}
            padding: [0, 30, 0, 0]

            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: self.minimum_height

                Label:
                    text: "Kategória:"
                    color: 1, 1, 1, 1
                    size_hint: None, None
                    size: self.texture_size[0], 30
                    bold: True

                Widget

                Spinner:
                    id: category_spinner
                    text: 'Válasz egy kategóriát'
                    values: []
                    size_hint: None, None
                    size: 250, 30
                    background_normal: ''
                    background_color: 0.9, 0.9, 0.9, 1
                    color: 0, 0, 0, 1

            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: self.minimum_height

                Label:
                    text: "Kiadás:"
                    color: 1, 1, 1, 1
                    size_hint: None, None
                    size: self.texture_size[0], 30
                    bold: True

                Widget

                TextInput:
                    id: amount
                    hint_text: "0 Ft"
                    color: 1, 1, 1, 1
                    input_filter: 'int'
                    size_hint: None, None
                    size: 250, 30

            Label:
                text: "Leírás:"
                color: 1, 1, 1, 1
                text_size: self.size
                size_hint_y: None
                height: self.texture_size[1]
                bold: True

            TextInput:
                id: desc
                hint_text: "Szöveges leírása a kiadásnak."
                color: 0, 0, 0, 1
                size_hint_y: None
                height: 100
                padding: 10
                multiline: True

        Widget

        Button:
            text: "Mentés"
            size_hint: None, None
            size: 110, 35
            pos_hint: {"center_x": 0.5}
            background_normal: ''
            background_color: 1, 1, 1, 0
            color: 1, 1, 1, 1
            font_size: '22sp'
            bold: True

            canvas.before:
                Color:
                    rgba: 0, 0.8, 0, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [20]
            
            on_release: root.save(category_spinner.text, amount.text, desc.text)

        Button:
            text: "Mégse"
            size_hint: None, None
            size: 110, 35
            pos_hint: {"center_x": 0.5}
            background_normal: ''
            background_color: 1, 1, 1, 0
            color: 1, 1, 1, 1
            font_size: '22sp'
            bold: True

            canvas.before:
                Color:
                    rgba: 0.8, 0, 0, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [20]

            on_release: root.back_to_main()
